<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artful Portfolio Page</title>
    <link href="css/styles-portfolio.css" rel="stylesheet">
    <script>
        var $slider = $('.slideshow .slider'),
          maxItems = $('.item', $slider).length,
          dragging = false,
          tracking,
          rightTracking;
        
        $sliderRight = $('.slideshow').clone().addClass('slideshow-right').appendTo($('.split-slideshow'));
        
        rightItems = $('.item', $sliderRight).toArray();
        reverseItems = rightItems.reverse();
        $('.slider', $sliderRight).html('');
        for (i = 0; i < maxItems; i++) {
          $(reverseItems[i]).appendTo($('.slider', $sliderRight));
        }
        
        $slider.addClass('slideshow-left');
        $('.slideshow-left').slick({
          vertical: true,
          verticalSwiping: true,
          arrows: false,
          infinite: true,
          dots: true,
          speed: 1000,
          cssEase: 'cubic-bezier(0.7, 0, 0.3, 1)'
        }).on('beforeChange', function(event, slick, currentSlide, nextSlide) {
        
          if (currentSlide > nextSlide && nextSlide == 0 && currentSlide == maxItems - 1) {
            $('.slideshow-right .slider').slick('slickGoTo', -1);
            $('.slideshow-text').slick('slickGoTo', maxItems);
          } else if (currentSlide < nextSlide && currentSlide == 0 && nextSlide == maxItems - 1) {
            $('.slideshow-right .slider').slick('slickGoTo', maxItems);
            $('.slideshow-text').slick('slickGoTo', -1);
          } else {
            $('.slideshow-right .slider').slick('slickGoTo', maxItems - 1 - nextSlide);
            $('.slideshow-text').slick('slickGoTo', nextSlide);
          }
        }).on("mousewheel", function(event) {
          event.preventDefault();
          if (event.deltaX > 0 || event.deltaY < 0) {
            $(this).slick('slickNext');
          } else if (event.deltaX < 0 || event.deltaY > 0) {
            $(this).slick('slickPrev');
          };
        }).on('mousedown touchstart', function(){
          dragging = true;
          tracking = $('.slick-track', $slider).css('transform');
          tracking = parseInt(tracking.split(',')[5]);
          rightTracking = $('.slideshow-right .slick-track').css('transform');
          rightTracking = parseInt(rightTracking.split(',')[5]);
        }).on('mousemove touchmove', function(){
          if (dragging) {
            newTracking = $('.slideshow-left .slick-track').css('transform');
            newTracking = parseInt(newTracking.split(',')[5]);
            diffTracking = newTracking - tracking;
            $('.slideshow-right .slick-track').css({'transform': 'matrix(1, 0, 0, 1, 0, ' + (rightTracking - diffTracking) + ')'});
          }
        }).on('mouseleave touchend mouseup', function(){
          dragging = false;
        });
        
        $('.slideshow-right .slider').slick({
          swipe: false,
          vertical: true,
          arrows: false,
          infinite: true,
          speed: 950,
          cssEase: 'cubic-bezier(0.7, 0, 0.3, 1)',
          initialSlide: maxItems - 1
        });
        $('.slideshow-text').slick({
          swipe: false,
          vertical: true,
          arrows: false,
          infinite: true,
          speed: 900,
          cssEase: 'cubic-bezier(0.7, 0, 0.3, 1)'
        });
    </script>
</head>
<body>
    <div id="content">
        <header>
            <nav>
                <a href="index.html">Home</a>
                <a href="aboutme.html">About Me</a>
                <a href="portfolio.html">Portfolio</a>
            </nav>
        </header>

        <div class="split-slideshow">
            <div class="slideshow">
              <div class="slider">
                <div class="item">
                  <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/canyon-2.jpg" />
                </div>
                <div class="item">
                  <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/canyon-3.jpg" />
                </div>
                <div class="item">
                  <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/canyon-4.jpg" />
                </div>
                <div class="item">
                  <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/canyon-1.jpg" />
                </div>
              </div>
            </div>
            <div class="slideshow-text">
              <div class="item">Canyon</div>
              <div class="item">Desert</div>
              <div class="item">Erosion</div>
              <div class="item">Shape</div>
            </div>
          </div>
          
          <a class="the-most" target="_blank" href="https://codepen.io/2017/popular/pens/10/">
            <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/themost-2017.png">
          </a>

        <main class="hover-under">
            <section id="trees">
                <a id="logo_link" href="index.html">
                    <img class="trees" src="images/tree-line.svg" alt="JMH Artful Logo">
                </a>
            </section>
        </main>

        <footer class="footer-grid">
            <h3>JMH Artful Designs &copy; 2022 WDD 130-30 John M Harper</h3>       
            <div class="social">
                <a href="https://facebook.com"><img src="images/facebook.png" alt="fb icon"></a>
                <a href="https://twitter.com"><img src="images/twitter.png" alt="twitter icon"></a>
                <a href="https://instagram.com"><img src="images/instagram.png" alt="instagram icon"></a>
            </div>
        </footer>
    </div> 
</body>
</html>